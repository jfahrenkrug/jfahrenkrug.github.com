---
name: converting-comments-into-values-in

title: Converting Comments into Values in Localizable.strings Files Generated by Genstrings
time: 2007-06-06 11:20:00 Z
categories:
  - Programming
  - Localization
  - Mac
  - Cocoa
  - Python
---

<img style="margin: 0pt 10px 10px 0pt; float: left; cursor: pointer; width: 140px; height: 55px;" src="http://www.python.org/community/logos/python-powered-w-140x56.png" alt="" border="0">
I'm working on a Mac Cocoa project at the moment and had to deal with localization - something that has to be done but sure isn't fun.
Localization isn't that hard though when using Cocoa: Enclose your localizable strings in a call to the <a href="http://www.cocoadev.com/index.pl?NSLocalizedString">NSLocalizedString</a> macro and run <a href="http://developer.apple.com/documentation/MacOSX/Conceptual/BPInternational/Articles/StringsFiles.html">genstrings</a> over your files.
When you have a string like @"I think this is a long string" somewhere in your source code and you want to localize it using NSLocalizedString, you might not want "I think this is a long string" to be the key in the strings file. What I do is this:
<blockquote>NSLocalizedString(@"LONG_STRING", @"I think this is a long string") </blockquote>and then I run genstrings over my source and end up with this in the Localizable.strings file:
<blockquote>/* I think this is a long string */
"LONG_STRING" = "LONG_STRING";</blockquote>I actually want "I think this is a long string" to be the value and not "LONG_STRING". That's why I wrote a <a href="http://www.springenwerk.com/blog/pyGenstrings.py">small Python tool</a> that takes care of this and uses the comments as the values.

pyGenstrings coverts such files to look like this:

<blockquote>/* I think this is a long string */
"LONG_STRING" = "I think this is a long string";</blockquote>That might come closer to what you want...

Download pyGenstrings here: <a href="http://www.springenwerk.com/blog/pyGenstrings.py">pyGenstrings.py</a>
<br/><hr/><h3>Comments</h3>

<div class="swcomment"><h4><a href="">Anonymous</a> said...</h4>
<p style="margin-left: 30px">The link to your pyGenstrings script is broken. Do you have an updated link?<BR/><BR/>Thanks</p>
<em class="swlightgray" style="margin-left: 30px">December 13, 2008 05:54 AM</em></div>
<div class="swcomment"><h4><a href="http://www.blogger.com/profile/14721377331352272189">Jordy</a> said...</h4>
<p style="margin-left: 30px">Saw your post on CocoaDev...what you might want to do instead is reverse your order: NSLocalizedString(@"I think this is a long string", @"LONG_STRING"). Why? If NSLocalizedString doesn't find the Localizable.strings table, it will default back to the first argument. And because you're using the second argument as a description of the string, and not the value, there is no real problem, and this comment (LONG_STRING) is what will appear in each of the localized files. Of course, if you preferred the comments to be native-language versions of the localization, that's another story. But in any case, there's no reason to bring a not-so-useful "variable name" string into it.</p>
<em class="swlightgray" style="margin-left: 30px">July 16, 2007 07:01 AM</em></div>
